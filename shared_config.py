# shared_config.py

# --- 网络配置 ---
# 服务器绑定IP地址。'0.0.0.0' 表示监听所有可用的网络接口，
# 这样局域网内的其他设备才能连接，实现远程测试。
# 客户端连接时需要使用服务器在局域网中的实际IP地址（例如 192.168.1.100）。
SERVER_HOST = '0.0.0.0'
VIDEO_PORT = 9999      # 视频数据传输端口
AUDIO_PORT = 9997      # 音频数据传输端口
CONTROL_PORT = 9998    # 控制信令传输端口 (例如: 网络状态反馈)

# --- 视频流参数 ---
PACKET_SIZE = 1200     # 每个UDP包的数据负载大小 (字节)
                       # 注意: 对于H.264/H.265/AV1视频流，我们通常发送完整的编码包，
                       # 因此此参数对于视频可能不再直接用于分片，而是依赖IP层分片或应用层更复杂的逻辑。

# --- 前向纠错 (FEC) 配置 ---
# 每 FEC_GROUP_SIZE 个数据包，生成一个FEC冗余包。
# 用于在发生少量丢包时恢复数据。
FEC_GROUP_SIZE = 10

# --- 音频流参数 ---
# 减小CHUNK大小可以降低捕获延迟，但会增加计算量。
# 比如512 / 16000Hz = 32ms 的捕获延迟。
AUDIO_CHUNK = 256      # 每次读取的音频数据大小 (样本数)
AUDIO_FORMAT = 8        # paInt16, 16位音频
AUDIO_CHANNELS = 1      # 单声道
AUDIO_RATE = 16000      # 采样率 (Hz)

# --- 视频编码参数 ---
# 可以选择 'h264', 'hevc' (H.265), 'av1'。请确保系统支持相应编码器。
VIDEO_CODEC = 'h264'
VIDEO_BITRATE = 1000000 # 1 Mbps, 调整以平衡画质与带宽
